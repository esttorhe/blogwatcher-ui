---
phase: 02-ui-layout-navigation
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - static/styles.css
  - templates/base.gohtml
  - templates/pages/index.gohtml
  - templates/partials/sidebar.gohtml
autonomous: true

must_haves:
  truths:
    - "User sees dark-themed interface (not white/light background)"
    - "User sees sidebar on desktop (250px left column)"
    - "User sees hamburger icon on mobile screens"
    - "User can click hamburger to reveal sidebar on mobile"
    - "Sidebar shows Inbox and Archived filter options"
    - "Sidebar shows list of blogs from database"
  artifacts:
    - path: "static/styles.css"
      provides: "Dark theme CSS variables, grid layout, responsive hamburger"
      min_lines: 100
    - path: "templates/partials/sidebar.gohtml"
      provides: "Sidebar component with nav links and blog list"
      contains: "sidebar-toggle"
    - path: "templates/base.gohtml"
      provides: "CSS link, dark theme on html element"
      contains: "styles.css"
    - path: "templates/pages/index.gohtml"
      provides: "Grid layout structure with sidebar and main areas"
      contains: "app-layout"
  key_links:
    - from: "templates/base.gohtml"
      to: "static/styles.css"
      via: "link stylesheet"
      pattern: 'href="/static/styles.css"'
    - from: "templates/pages/index.gohtml"
      to: "templates/partials/sidebar.gohtml"
      via: "template include"
      pattern: 'template "sidebar.gohtml"'
---

<objective>
Create the visual foundation for BlogWatcher UI: dark theme CSS, responsive grid layout, and collapsible sidebar structure.

Purpose: Establishes the core visual shell that all Phase 2+ features will build upon. Users see a polished dark interface with working responsive navigation.

Output: CSS file with dark theme variables and grid layout, updated templates with sidebar structure, hamburger menu toggle on mobile.
</objective>

<execution_context>
@/Users/esteban.torres/.claude/get-shit-done/workflows/execute-plan.md
@/Users/esteban.torres/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/02-ui-layout-navigation/02-RESEARCH.md

Existing templates to update:
@templates/base.gohtml
@templates/pages/index.gohtml
@templates/partials/blog-list.gohtml
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create CSS foundation with dark theme and grid layout</name>
  <files>static/styles.css</files>
  <action>
Create static/styles.css with:

1. CSS custom properties for dark theme (as per RESEARCH.md):
   - --bg-primary: #121212
   - --bg-surface: #1e1e1e
   - --bg-elevated: #2d2d2d
   - --text-primary: #e0e0e0
   - --text-secondary: #a0a0a0
   - --accent: #64b5f6
   - --border: #333333

2. Base reset and body styling using variables

3. CSS Grid layout for .app-layout:
   - Desktop: grid-template-columns: 250px 1fr
   - grid-template-areas: "sidebar main"
   - min-height: 100vh

4. Sidebar styling (.sidebar):
   - grid-area: sidebar
   - background: var(--bg-surface)
   - Fixed position on mobile with transform: translateX(-100%)
   - Transition for smooth slide-in
   - visibility: hidden when closed (accessibility)

5. Main content area (.main-content):
   - grid-area: main
   - Padding and min-height to prevent collapse

6. Hamburger menu CSS:
   - Hidden checkbox input (.sidebar-toggle)
   - Hamburger icon with three lines using ::before/::after
   - Transform to X when checked
   - Show hamburger only on mobile (@media max-width: 768px)
   - .sidebar-toggle:checked ~ .sidebar shows sidebar

7. Navigation link styling:
   - .nav-link with hover states
   - .nav-link.active styling
   - .blog-item styling for blog list

8. Mobile responsive rules:
   - @media (max-width: 768px) sidebar becomes fixed overlay
   - Hamburger visible, sidebar hidden by default
  </action>
  <verify>File exists at static/styles.css with CSS variables defined and grid layout rules</verify>
  <done>CSS file contains dark theme variables, grid layout, hamburger styles, responsive breakpoints</done>
</task>

<task type="auto">
  <name>Task 2: Update base template with CSS link and dark theme</name>
  <files>templates/base.gohtml</files>
  <action>
Update templates/base.gohtml:

1. Add class="dark" to html element (prevents flash of incorrect theme)

2. Replace inline style block with link to external CSS:
   - Remove the style block entirely
   - Add: &lt;link rel="stylesheet" href="/static/styles.css"&gt;

3. Keep existing script tag for htmx.min.js

4. Add meta theme-color for mobile browsers:
   &lt;meta name="theme-color" content="#121212"&gt;

The body should remain simple, just containing {{template "content" .}}
  </action>
  <verify>Template has link to /static/styles.css and dark class on html element</verify>
  <done>base.gohtml links external CSS and sets dark theme class on html</done>
</task>

<task type="auto">
  <name>Task 3: Create sidebar partial and update index template</name>
  <files>templates/partials/sidebar.gohtml, templates/pages/index.gohtml</files>
  <action>
Create templates/partials/sidebar.gohtml:

1. Hidden checkbox input for mobile toggle:
   &lt;input type="checkbox" id="sidebar-toggle" class="sidebar-toggle"&gt;

2. Hamburger label (outside sidebar, sibling to it):
   &lt;label for="sidebar-toggle" class="hamburger" aria-label="Toggle menu"&gt;
     &lt;span class="hamburger-line"&gt;&lt;/span&gt;
   &lt;/label&gt;

3. Sidebar container with:
   - &lt;aside class="sidebar"&gt;
   - Logo/title section: "BlogWatcher"
   - Navigation section with Inbox and Archived links:
     - Use class="nav-link" (no HTMX yet - that's Plan 02)
     - href="/articles?filter=unread" for Inbox
     - href="/articles?filter=read" for Archived
   - Subscriptions section header
   - Include blog-list partial: {{template "blog-list.gohtml" .}}

4. Close sidebar div

Update templates/pages/index.gohtml:

1. Wrap content in &lt;div class="app-layout"&gt;

2. Include sidebar partial at top: {{template "sidebar.gohtml" .}}

3. Main content area:
   &lt;main id="main-content" class="main-content"&gt;
     &lt;h1&gt;Inbox&lt;/h1&gt;
     {{template "article-list.gohtml" .}}
   &lt;/main&gt;

4. Remove old layout div and separate aside/main structure

Note: Keep blog-list.gohtml as-is for now (just displays blog names). HTMX click handlers added in Plan 02.
  </action>
  <verify>Templates render without error, sidebar visible on desktop</verify>
  <done>Sidebar partial exists with nav structure, index.gohtml uses app-layout grid</done>
</task>

</tasks>

<verification>
1. Run server: go run cmd/server/main.go
2. Visit http://localhost:8080
3. Verify dark background (#121212 not white)
4. Verify sidebar visible on left (desktop width)
5. Resize browser to mobile width (< 768px)
6. Verify hamburger icon appears
7. Click hamburger - sidebar slides in
8. Verify Inbox/Archived links visible in sidebar
9. Verify blog list appears in sidebar
</verification>

<success_criteria>
- Dark theme renders (background not white)
- CSS Grid layout works (sidebar left, main content right)
- Sidebar shows "Inbox" and "Archived" navigation items
- Sidebar shows blog list from database
- Hamburger menu appears on mobile widths
- Clicking hamburger toggles sidebar visibility
- No JavaScript required for mobile toggle (pure CSS)
</success_criteria>

<output>
After completion, create `.planning/phases/02-ui-layout-navigation/02-01-SUMMARY.md`
</output>
